webpackJsonp([1],{"+7QF":function(t,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=c("Dd8w"),s=c.n(n),a=c("olkN"),r=c("NYxO"),i={store:a.a,props:{product:{type:Object,required:!0}},methods:s()({},Object(r.c)(["SUBTRACT","ADD","CLEAR"]),{unCheck:function(t){this.$emit("unCheck",t)}})},o={render:function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"check-item"},[c("div",{staticClass:"front"},[c("img",{attrs:{src:"static/"+t.product.productImage,alt:t.product.productName}})]),t._v(" "),c("div",{staticClass:"name"},[t._v(t._s(t.product.productName))]),t._v(" "),c("div",{staticClass:"price"},[t._v(t._s(t._f("money")(t.product.productPrice)))]),t._v(" "),c("div",{staticClass:"num"},[c("button",{staticClass:"btn btn-sm btn-default",on:{click:function(e){return t.SUBTRACT({id:t.product.productId,minN:1})}}},[t._v("-")]),t._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:t.product.checkedNum,expression:"product.checkedNum"}],staticClass:"btn btn-default btn-sm",attrs:{disabled:""},domProps:{value:t.product.checkedNum},on:{input:function(e){e.target.composing||t.$set(t.product,"checkedNum",e.target.value)}}}),t._v(" "),c("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.ADD(t.product.productId)}}},[t._v("+")])]),t._v(" "),c("div",{staticClass:"total"},[t._v(t._s(t._f("money")(t.product.productPrice*t.product.checkedNum)))]),t._v(" "),c("div",{staticClass:"delete"},[c("span",{staticClass:"glyphicon glyphicon-trash delete",on:{click:function(e){t.CLEAR(t.product.productId),t.unCheck(t.product.productId)}}})])])},staticRenderFns:[]};var d=c("VU/8")(i,o,!1,function(t){c("ygyG")},"data-v-a9f7c108",null).exports,u={store:a.a,data:function(){return{checked:[]}},components:{CheckItem:d},mounted:function(){this.checkAll()},computed:s()({},Object(r.b)(["checkedProduct"]),{totalNum:function(){var t=this,e=0;return this.checked.forEach(function(c){t.checkedProduct.forEach(function(t){t.productId==c&&(e+=t.checkedNum)})}),e},totalPrice:function(){var t=this,e=0;return this.checked.forEach(function(c){t.checkedProduct.forEach(function(t){t.productId==c&&(e+=t.checkedNum*t.productPrice)})}),e},allChecked:{get:function(){if(this.checked.length==this.checkedProduct.length)return!0},set:function(){this.checked.length==this.checkedProduct.length?this.checked=[]:this.checkAll()}}}),methods:{checkAll:function(){var t=this;this.checkedProduct.forEach(function(e){-1==t.checked.indexOf(e.productId)&&t.checked.push(e.productId)})},unCheck:function(t){var e=this.checked.indexOf(t);-1!=e&&this.checked.splice(e,1)}}},l={render:function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"container"},[c("div",{staticClass:"title"},[t._v("购物车")]),t._v(" "),t._m(0),t._v(" "),t._l(t.checkedProduct,function(e){return c("div",{key:e.productId,staticClass:"item"},[c("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],staticClass:"check-icon",attrs:{type:"checkbox"},domProps:{value:e.productId,checked:Array.isArray(t.checked)?t._i(t.checked,e.productId)>-1:t.checked},on:{change:function(c){var n=t.checked,s=c.target,a=!!s.checked;if(Array.isArray(n)){var r=e.productId,i=t._i(n,r);s.checked?i<0&&(t.checked=n.concat([r])):i>-1&&(t.checked=n.slice(0,i).concat(n.slice(i+1)))}else t.checked=a}}}),t._v(" "),c("check-item",{attrs:{product:e},on:{unCheck:t.unCheck}})],1)}),t._v(" "),c("div",{staticClass:"check-area"},[c("input",{directives:[{name:"model",rawName:"v-model",value:t.allChecked,expression:"allChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allChecked)?t._i(t.allChecked,null)>-1:t.allChecked},on:{change:function(e){var c=t.allChecked,n=e.target,s=!!n.checked;if(Array.isArray(c)){var a=t._i(c,null);n.checked?a<0&&(t.allChecked=c.concat([null])):a>-1&&(t.allChecked=c.slice(0,a).concat(c.slice(a+1)))}else t.allChecked=s}}}),t._v(" "),c("span",{staticClass:"check-all"},[t._v("全选")]),t._v(" "),c("span",{staticClass:"total-num"},[t._v("总数量："+t._s(t.totalNum))]),t._v(" "),c("span",{staticClass:"total-price"},[t._v("总金额："+t._s(t._f("money")(t.totalPrice)))]),t._v(" "),c("router-link",{staticClass:"btn btn-lg",attrs:{to:{name:"adress"}}},[t._v("结账")])],1)],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"header"},[c("div",{staticClass:"info"},[t._v("商品信息")]),t._v(" "),c("div",{staticClass:"price"},[t._v("商品单价")]),t._v(" "),c("div",{staticClass:"num"},[t._v("商品数量")]),t._v(" "),c("div",{staticClass:"total"},[t._v("金额")]),t._v(" "),c("div",{staticClass:"delete"},[t._v("编辑")])])}]};var h=c("VU/8")(u,l,!1,function(t){c("P3nv")},"data-v-17d672ea",null);e.default=h.exports},Dd8w:function(t,e,c){"use strict";e.__esModule=!0;var n,s=c("woOf"),a=(n=s)&&n.__esModule?n:{default:n};e.default=a.default||function(t){for(var e=1;e<arguments.length;e++){var c=arguments[e];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n])}return t}},P3nv:function(t,e){},R4wc:function(t,e,c){var n=c("kM2E");n(n.S+n.F,"Object",{assign:c("To3L")})},To3L:function(t,e,c){"use strict";var n=c("lktj"),s=c("1kS7"),a=c("NpIQ"),r=c("sB3e"),i=c("MU5D"),o=Object.assign;t.exports=!o||c("S82l")(function(){var t={},e={},c=Symbol(),n="abcdefghijklmnopqrst";return t[c]=7,n.split("").forEach(function(t){e[t]=t}),7!=o({},t)[c]||Object.keys(o({},e)).join("")!=n})?function(t,e){for(var c=r(t),o=arguments.length,d=1,u=s.f,l=a.f;o>d;)for(var h,v=i(arguments[d++]),k=u?n(v).concat(u(v)):n(v),p=k.length,f=0;p>f;)l.call(v,h=k[f++])&&(c[h]=v[h]);return c}:o},V3tA:function(t,e,c){c("R4wc"),t.exports=c("FeBl").Object.assign},woOf:function(t,e,c){t.exports={default:c("V3tA"),__esModule:!0}},ygyG:function(t,e){}});
//# sourceMappingURL=1.dd651c5269d733016d90.js.map